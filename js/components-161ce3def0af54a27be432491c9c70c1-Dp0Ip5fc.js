import{d as X,r as M,c as S,o as z,a as N,b as T,e as m,w as Y,v as J,n as j,f as D,t as E}from"./vendor-BoK9dhAW.js";import{A as Q,G as I,C as G,B as F}from"./vendor-pixi-js-eJjbzznQ.js";import{m as H,_ as u}from"./vendor-matter-js-CJ9hGwNN.js";import{G as W,T as q}from"./vendor-tweenjs-BtMkXI7v.js";const U=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};function g(h,t){const x=C();return g=function(e,s){return e=e-281,x[e]},g(h,t)}(function(h,t){const x=g,e=h();for(;;)try{if(parseInt(x(281))/1+parseInt(x(285))/2+parseInt(x(289))/3*(-parseInt(x(288))/4)+parseInt(x(292))/5*(parseInt(x(284))/6)+parseInt(x(286))/7+parseInt(x(283))/8*(parseInt(x(290))/9)+-parseInt(x(282))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(C,304077);function K(){const h=c=>{const l=g,f=c[l(287)]((i,a)=>i+a,0);return c[l(291)](i=>i/f)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}function C(){const h=["50lSHVRf","357496TeJUJd","11492510IXbqPR","975816sPBECQ","172878CcVDJH","662124ylqIcJ","2952901MsjHvX","reduce","4ICSiuI","933402SdyGsC","27PAqHPG","map"];return C=function(){return h},C()}const O=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]),o=R;function v(){const h=["gap","recordArr","isNaN","createRoundedRect","stroke","getChildByLabel","destroy","createBall","remove","add","collisionStart","tweenGroup","nonCollideGroup","timeScale","forEach","pinParams","Bodies","setRecordClickCb","setVelocity","recordCallback","removeChild","label","11cBGKyY","getProbability","stackBox","velocityIterations","findResultArea","engine","init","world","maxCount","getBg","reverse","res-text-","addXPower","unshift","startsWith","8ImgVcG","click","roundRect","pinsGfx","radius","now","startY","setBallConfig","circleRadius","Runner","start","res-","style","lastTime","app","68956BdjNfC","mouseout","canvas","recordCount","stage","parseInt","dealCollisions","2827405uPaHTl","getText","2iHJOkv","Events","mouseover","set","level","boxWidth","Engine","entries","Composite","length","firstY","onComplete","create","rows","push","Ball hit result box ","text","setLevel","ballParamsMap","random","ball","ballRadius","16ynJbpP","1116265eFUNMM","children","circle","low","height","setGameRes","rotation","ticker","listenCollisions","resBoxAnimal","width","runner","update","createElement","pinAnimal","fill","center","log","scale","row-","timing","4750482YzDApq","resBoxMap","popCallback","clear","frictionAir","setPopCb","#000","createResultBox","4668660yExxDE","position","ballConfig","min","gameRes","addChild","appendChild","boxHeight","Body","5327496uQTiaP","pinsMatter","devicePixelRatio","1179207PRGRBm","getShadow"];return v=function(){return h},v()}function R(h,t){const x=v();return R=function(e,s){return e=e-255,x[e]},R(h,t)}(function(h,t){const x=R,e=h();for(;;)try{if(-parseInt(x(350))/1+-parseInt(x(359))/2*(parseInt(x(296))/3)+parseInt(x(381))/4*(parseInt(x(255))/5)+parseInt(x(276))/6+parseInt(x(357))/7*(parseInt(x(335))/8)+-parseInt(x(293))/9+parseInt(x(284))/10*(-parseInt(x(320))/11)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,567839);const{colors:Z,shadows:$,resText:L,probabilities:x0}=K();class t0{id=1;canvas;app;[o(325)];world;[o(266)];[o(265)];[o(259)];tickerFn;[o(377)]=new Map;pinParams={};[o(310)]=H.Body.nextGroup(!0);[o(286)]={ballRadius:4,frictionAir:.05};[o(278)];recordCallback;[o(288)];constructor(t){const x=o;this[x(352)]=document[x(268)](x(352)),t[x(290)](this.canvas),this[x(349)]=new Q,this[x(325)]=u[x(365)].create(),this.world=this[x(325)].world,this.runner=u[x(344)][x(371)](),this[x(325)].positionIterations=10,this.engine[x(323)]=10,this[x(325)][x(275)][x(311)]=2}async init(t,x,e){const s=o;this[s(265)]=t,this[s(259)]=x,this[s(352)].style[s(265)]=t+"px",this[s(352)][s(347)][s(259)]=x+"px",this[s(322)][s(285)].set(this.width-45,this[s(259)]/4),this[s(349)][s(354)][s(289)](this[s(322)]),await this[s(349)][s(326)]({canvas:this.canvas,width:t,height:x,background:e,antialias:!0,resolution:window[s(295)]}),u[s(344)].run(this[s(266)],this[s(325)]),this[s(263)]()}[o(342)](t,x){const e=o;this[e(286)]={ballRadius:t,frictionAir:x}}[o(305)](t){const x=o,e=this[x(265)]/2,s=[e,e+this.pinParams.gap],c=[e,e-this.pinParams[x(298)]],l=t[0],f=Math.floor(Math[x(378)]()*2),_=l==="R"?s[f]:c[f],i=u[x(314)][x(257)](_,0,this[x(286)][x(380)],{id:this.id++,label:x(379),mass:1,restitution:0,friction:0,frictionAir:this[x(286)][x(280)],collisionFilter:{group:this[x(310)]}}),a=new I()[x(257)](0,0,this[x(286)][x(380)])[x(270)](16733525);a.position[x(362)](i[x(285)].x,i[x(285)].y),u[x(367)][x(307)](this.world,i),this.app[x(354)][x(289)](a);const n=()=>{const d=x;a[d(285)].set(i[d(285)].x,i[d(285)].y),a[d(261)]=i.angle;const p=(this.pinParams[d(372)]-2)*this[d(313)][d(298)]+this[d(313)][d(298)]/2;i[d(285)].y>p&&(this[d(324)](i.position.x),u[d(367)][d(306)](this.world,i),a.destroy(),this[d(349)][d(262)][d(306)](n),this[d(377)].delete(i.id))};this[x(349)][x(262)][x(307)](n);const r={path:t,start:f,fir:l};this.ballParamsMap[x(362)](i.id,r)}[o(294)]=[];[o(338)]=[];createPinsAndResultBoxes(t){const x=o;this.clearPinsAndRes(),this[x(313)]=t;const{rows:e,startY:s,gap:c,pinRadius:l}=t;for(let f=2;f<e;f++){const _=f+1,i=(_-1)*c,a=this.width/2-i/2;for(let n=0;n<_;n++){const r=a+n*c,d=s+(f-2)*c,p=u[x(314)][x(257)](r,d,l,{isStatic:!0,label:x(274)+(f-1)+"-"+n}),b=new I()[x(257)](0,0,l)[x(270)](16777215);b.x=r,b.y=d,this[x(294)][x(373)](p),this[x(338)][x(373)](b),H.Composite[x(307)](this[x(327)],p),this[x(349)][x(354)][x(289)](b)}}this[x(283)]()}[o(356)](t){const x=o,{bodyA:e,bodyB:s}=t,c=e[x(319)]==="ball"?e:s[x(319)]===x(379)?s:null,l=e[x(319)][x(334)]("row-")?e[x(319)]:s[x(319)][x(334)](x(274))?s[x(319)]:null,f=e[x(319)].startsWith(x(274))?e:s[x(319)][x(334)](x(274))?s:null;if(f&&this[x(269)](f),!c||!l)return;const _=c.id,i=Number[x(355)](l.split("-")[1],10),a=this[x(377)].get(_);if(!a)return;const{path:n,start:r,fir:d}=a;if(!n||!d||Number[x(300)](i))return;if(i===1){const b=d==="R"?r===0?1:-1:r===0?-1.2:1.2;this.addXPower(c,b);return}const p=n[i-1];p==="R"?this.addXPower(c,1.2):p==="L"&&this[x(332)](c,-1.2)}[o(277)]=new Map;level=o(258);async[o(283)](){const t=o,x=this[t(313)][t(298)],e=x-2,s=this.pinParams[t(372)]-1,c=s-2,l=this[t(313)][t(341)]+c*x+x/2,f=this[t(265)]/2-s*x/2,_=this[t(313)][t(372)]-2;for(let i=0;i<s;i++){const a=f+i*x+1,n=new G({label:t(346)+i,interactive:!0}),r=new I().roundRect(0,0,e,14,2).fill({color:this[t(329)](_,i)}),d=new I()[t(337)](0,0,e,16,2).fill({color:this[t(297)](_,i)});d[t(285)][t(362)](0,0);const p=this[t(358)](this.level,_,i)||0,b=new F({label:t(331)+i,text:p+`
x`,style:{fontSize:14,fill:t(282),align:t(271)},anchor:.5});b[t(285)][t(362)](e/2,8),b[t(273)][t(362)](.4),n[t(289)](d),n[t(289)](r),n[t(289)](b),n.position[t(362)](a,l),this[t(277)].set(i,n),this[t(349)].stage.addChild(n),n.on(t(361),()=>{const y=t;this.popCallback(!0,this[y(321)](this[y(313)][y(372)]-2,i).toFixed(4))}),n.on(t(351),()=>{this[t(278)](!1)})}}clearPinsAndRes(){const t=o;for(const x of this[t(294)])u[t(367)][t(306)](this[t(327)],x);for(const x of this[t(338)])x.destroy();this[t(294)]=[],this[t(338)]=[],this[t(277)][t(312)](x=>{x[t(304)]()}),this[t(277)][t(279)](),this[t(369)]=0}[o(332)](t,x){const e=o;u[e(292)][e(316)](t,{x,y:0})}[o(329)](t,x){return Z["_"+t][x]}[o(297)](t,x){return $["_"+t][x]}[o(358)](t,x,e){return L[t]["_"+x][e]}[o(321)](t,x){return x0["_"+t][x]*100}[o(281)](t){const x=o;this[x(278)]=t}[o(315)](t){this.recordCallback=t}[o(376)](t){const x=o;if(this[x(363)]=t,!!L[t])for(const[s,c]of this[x(277)]){const l=c[x(303)](x(331)+s),f=L[t]["_"+(this[x(313)][x(372)]-2)][s];l[x(375)]=f+`
x`}}[o(324)](t){const x=o;for(const[e,s]of this[x(277)][x(366)]()){const c=s.x,l=s.x+s[x(265)];t>=c&&t<=l&&(this[x(264)](s),console[x(272)](x(374)+e))}}[o(263)](){const t=o;u[t(360)].on(this[t(325)],t(308),x=>{for(const e of x.pairs)this.dealCollisions(e)})}[o(269)](t){const x=o,e=new I;e[x(285)].set(t[x(285)].x,t[x(285)].y),this[x(349)][x(354)].addChild(e);const s=0,c=10,l=400,f=performance[x(340)](),_=i=>{const a=x,n=i-f,r=Math.min(n/l,1),d=s+(c-s)*r,p=.9*(1-r);e[a(279)]();const b=t[a(343)]??4;e[a(257)](0,0,b*1.2+d)[a(270)]({color:16777215,alpha:p}),r<1?requestAnimationFrame(_):e[a(304)]()};requestAnimationFrame(_)}[o(369)]=0;resBoxAnimal(t){const x=o,e=t[x(285)].y;this[x(369)]||(this.firstY=e);const s=4,c=150,l=performance[x(340)](),f=_=>{const i=x,a=_-l,n=Math[i(287)](a/c,1);t[i(285)].y=e+s*n,n<1?requestAnimationFrame(f):t.position.y=this[i(369)]};requestAnimationFrame(f)}[o(309)]=new W;[o(299)]=[];[o(328)]=4;boxWidth=26;[o(291)]=26;[o(322)]=new G;[o(353)]=0;[o(260)](t){this.gameRes=t}[o(301)](t,x,e){const s=o,c=e?.6:1,l=[{x:0,y:this.boxHeight,radius:0},{x:this[s(364)],y:this[s(291)],radius:0},{x:this[s(364)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(l[2][s(339)]=4,l[3][s(339)]=4):t===this.maxCount-1&&(l[0].radius=4,l[1][s(339)]=4),new I({label:String(x)}).roundShape(l,10)[s(270)]({color:x,alpha:c})[s(302)]({width:1,color:0})}addRecord(t,x){const e=o,s=new G({interactive:!0});s.position[e(362)](0,-this[e(291)]);const c=this[e(301)](this[e(353)],x),l=new F({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});l.position.x=this.boxWidth/2,l.position.y=this[e(291)]/2,s[e(289)](c),s[e(289)](l),this[e(322)][e(289)](s),this[e(299)][e(333)](s);let f;s.on(e(361),()=>{const i=e;f=this[i(301)](this[i(353)],0,!0),s.addChild(f)}),s.on(e(351),()=>{const i=e;f&&(s[i(318)](f),f?.[i(304)](),f=null)}),s.on(e(336),()=>{const i=e;console[i(272)]("显示游戏结果事件"),this.recordCallback&&this[i(317)]()}),this[e(353)]++,this[e(353)]===4&&(this.recordCount=1),this[e(299)][e(312)]((i,a)=>{const n=e,r=a*this[n(291)];if(this[n(299)][n(368)]>1){const d=this[n(299)][a],p=d[n(318)](d[n(256)][0]),b=p[n(319)];p[n(304)](),this[n(299)][a].addChild(this[n(301)](a,Number(b))),this[n(299)][a][n(256)][n(330)]()}new q(i[n(285)],this[n(309)]).to({y:r},200)[n(345)]()});const _=i=>{const a=e;this[a(309)][a(267)](i[a(348)])};if(this[e(299)][e(368)]>this[e(328)]){const i=this.recordArr.pop();new q(i[e(285)],this[e(309)]).to({alpha:0},150)[e(370)](()=>{const a=e;this[a(349)][a(262)].remove(_),this[a(322)][a(318)](i),i?.[a(304)]()}).start()}this[e(349)][e(262)][e(307)](_)}}const w=P;(function(h,t){const x=P,e=h();for(;;)try{if(parseInt(x(530))/1*(parseInt(x(532))/2)+parseInt(x(515))/3+-parseInt(x(525))/4+-parseInt(x(521))/5+-parseInt(x(503))/6*(parseInt(x(541))/7)+parseInt(x(502))/8*(-parseInt(x(500))/9)+parseInt(x(501))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,875319);function P(h,t){const x=k();return P=function(e,s){return e=e-497,x[e]},P(h,t)}const e0={class:"relative"},s0={class:w(505)},a0={class:w(510)},i0=[w(522)],n0={class:"hint-row"},o0={key:0,id:w(507),class:"help"},r0={class:"counter"},c0={class:w(499)},l0=[w(534)];function k(){const h=["value","length","label","30023sSNzej","text","get","w-full flex justify-center items-center","170271iwKHei","44694880PSxPtI","488JJPVDs","1350ibaQXl","start-btn","relative","air","path-help","2 秒允许点击一次","input-control","input-wrap","AppPlinko","pins","init","例如：LRRLLRLR","1462593nHnlIr","div","/10","setBallConfig","container","replace","6006145wuLRXh","aria-invalid","span"," 开始游戏 ","5618800ylXSlB","请输入 10 位路径，仅允许 L 或 R"," 位，请填写 10 位","button","slice","2761zsKDIf","ballConfig","466tIykrL","投球路径（10 位，仅 L/R）","disabled","仅允许填写字符 L 或 R","test","createBall"];return k=function(){return h},k()}const d0=10,f0=X({__name:w(511),setup(h){const t=w,x=M(null);let e;const s=M(""),c=S(()=>/^[LR]{10}$/[t(536)](s.value)),l=M(!1),f=S(()=>{const a=t;return s.value?/[^LR]/[a(536)](s[a(538)])?a(535):s[a(538)].length!==10?"当前 "+s.value[a(539)]+a(527):"":a(526)});function _(a){const n=t,r=a.target,d=r[n(538)].toUpperCase()[n(520)](/[^LR]/g,"")[n(529)](0,10);s[n(538)]=d}async function i(){const a=t;if(!c[a(538)]||l.value||!e)return;l.value=!0;const n=s[a(538)].split("");e[a(537)](n),setTimeout(()=>l[a(538)]=!1,400)}return z(async()=>{const a=t,n=O[a(498)](10);x[a(538)]&&(e=new t0(x[a(538)]),await e[a(513)](300,276,"#1e1e1e"),await e.createPinsAndResultBoxes(n?.[a(512)]??{rows:12,startY:24,gap:24,pinRadius:4}),e[a(518)](n?.ballConfig.radius,n?.[a(531)][a(506)]))}),(a,n)=>{const r=t;return T(),N(r(516),e0,[m(r(516),s0,[m(r(516),{ref_key:r(519),ref:x,class:r(519)},null,512)]),m(r(516),a0,[n[1]||(n[1]=m(r(540),{class:r(540),for:"path"},r(533),-1)),Y(m("input",{id:"path",class:j([r(509),{invalid:!c[r(538)]&&s[r(538)]}]),type:r(497),"onUpdate:modelValue":n[0]||(n[0]=d=>s[r(538)]=d),maxlength:d0,placeholder:r(514),onInput:_,autocomplete:"off",autocapitalize:"characters",spellcheck:"false","aria-describedby":"path-help","aria-invalid":!c[r(538)]},null,42,i0),[[J,s[r(538)]]]),m(r(516),n0,[f[r(538)]?(T(),N("span",o0,E(f[r(538)]),1)):D("",!0),m(r(523),r0,E(s.value.length)+r(517),1)])]),m("div",c0,[m(r(528),{class:r(504),disabled:!c[r(538)]||l[r(538)],onClick:i,title:r(508)},r(524),8,l0)])])}}});function B(){var h=["data-v-cb23dd70","2165216lAGwKU","1118sZONjl","4691920eeRjEb","7897164Nhhojt","12aYHXqE","__scopeId","27FvQBLV","69fqtmgI","1848QzISkl","211404uCVwWz","1513421CQCbFf","11NeXGAB","4058675gcGaBn"];return B=function(){return h},B()}var V=A;(function(h,t){for(var x=A,e=h();;)try{var s=parseInt(x(122))/1*(parseInt(x(129))/2)+-parseInt(x(121))/3*(parseInt(x(123))/4)+parseInt(x(126))/5+parseInt(x(132))/6*(parseInt(x(124))/7)+parseInt(x(128))/8*(parseInt(x(120))/9)+-parseInt(x(130))/10+parseInt(x(125))/11*(-parseInt(x(131))/12);if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(B,746267);function A(h,t){var x=B();return A=function(e,s){e=e-120;var c=x[e];return c},A(h,t)}const u0=U(f0,[[V(133),V(127)]]);export{u0 as A,U as _};
