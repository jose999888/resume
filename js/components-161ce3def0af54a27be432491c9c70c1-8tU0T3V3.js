import{d as Z,r as L,c as T,o as E,a as V,b as Y,e as u,w as O,v as Q,n as q,f as J,t as z}from"./vendor-D0uUELPK.js";import{A as j,G as y,C as M,B as F}from"./vendor-pixi-js-CY4kqnN7.js";import{m as G,_ as m}from"./vendor-matter-js-DhrVuE26.js";import{G as W,T as N}from"./vendor-tweenjs-BtMkXI7v.js";const X=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};function v(){const h=["36571700tSPIPH","9TokVOM","2858wbPCjJ","3833787BimjVy","1911724LBvGtf","724ShVqLS","145lZPvbT","reduce","7FUiqZJ","4288430XtXxFr","45912QbmsOP","2903288ecTQYw","map"];return v=function(){return h},v()}(function(h,t){const x=R,e=h();for(;;)try{if(parseInt(x(320))/1*(-parseInt(x(317))/2)+-parseInt(x(318))/3+-parseInt(x(319))/4+-parseInt(x(321))/5*(-parseInt(x(325))/6)+parseInt(x(323))/7*(parseInt(x(326))/8)+-parseInt(x(316))/9*(parseInt(x(324))/10)+parseInt(x(315))/11===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,690220);function R(h,t){const x=v();return R=function(e,s){return e=e-314,x[e]},R(h,t)}function D(){const h=c=>{const d=R,l=c[d(322)]((n,a)=>n+a,0);return c[d(314)](n=>n/l)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const H=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]),i=C;(function(h,t){const x=C,e=h();for(;;)try{if(parseInt(x(530))/1*(-parseInt(x(484))/2)+parseInt(x(476))/3+parseInt(x(552))/4+-parseInt(x(555))/5+parseInt(x(551))/6+parseInt(x(512))/7*(-parseInt(x(526))/8)+parseInt(x(519))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(I,759324);function I(){const h=["1155656kzpriY","dealCollisions","toFixed","7458105GBoYYX","boxHeight","gameRes","timing","createResultBox","res-text-","ballParamsMap","setLevel","remove","stackBox","engine","maxCount","getText","pinsMatter","setBallConfig","onComplete","center","Events","ticker","runner","getShadow","fill","pinsGfx","findResultArea","run","显示游戏结果事件","recordCount","stage","init","rotation","min","addRecord","ball","circleRadius","app","firstY","position","resBoxMap","height","recordArr","collisionStart","circle","setVelocity","createElement","timeScale","startsWith","label","random","isNaN","tweenGroup","getBg","velocityIterations","rows","3064725FZZOAb","listenCollisions","angle","start","parseInt","frictionAir","pairs","getChildByLabel","1427354mHKUvz","removeChild","floor","Composite","tickerFn","addXPower","get","row-","clear","roundRect","add","resBoxAnimal","Engine","Runner","click","Bodies","set","nextGroup","clearPinsAndRes","ballRadius","create","pinParams","createBall","mouseover","setGameRes","forEach","entries","unshift","616707sZBDdh","width","update","popCallback","devicePixelRatio","Body","level","21843243TjzlCy","children","split","canvas","now","boxWidth","push","24cNAinz","ballConfig","length","createRoundedRect","2pQhJGG","Ball hit result box ","nonCollideGroup","getProbability","low","setPopCb","destroy","stroke","mouseout","world","gap","setRecordClickCb","roundShape","pop","appendChild","pinAnimal","addChild","radius","text","recordCallback","log","1230516efaMRC"];return I=function(){return h},I()}function C(h,t){const x=I();return C=function(e,s){return e=e-472,x[e]},C(h,t)}const{colors:U,shadows:K,resText:S,probabilities:$}=D();class x0{id=1;canvas;[i(589)];engine;world;runner;[i(513)];[i(593)];[i(488)];[i(561)]=new Map;[i(505)]={};[i(532)]=G.Body[i(501)](!0);[i(527)]={ballRadius:4,frictionAir:.05};[i(515)];[i(549)];[i(557)];constructor(t){const x=i;this[x(522)]=document[x(598)](x(522)),t[x(544)](this.canvas),this[x(589)]=new j,this[x(565)]=m[x(496)].create(),this[x(539)]=this.engine[x(539)],this[x(574)]=m[x(497)][x(504)](),this[x(565)].positionIterations=10,this[x(565)][x(474)]=10,this[x(565)][x(558)][x(599)]=2}async[i(583)](t,x,e){const s=i;this[s(513)]=t,this.height=x,this[s(522)].style.width=t+"px",this[s(522)].style[s(593)]=x+"px",this[s(564)][s(591)][s(500)](this.width-45,this[s(593)]/4),this[s(589)][s(582)][s(546)](this[s(564)]),await this[s(589)][s(583)]({canvas:this[s(522)],width:t,height:x,background:e,antialias:!0,resolution:window[s(516)]}),G.Runner[s(579)](this[s(574)],this[s(565)]),this[s(477)]()}[i(569)](t,x){const e=i;this[e(527)]={ballRadius:t,frictionAir:x}}[i(506)](t){const x=i,e=this[x(513)]/2,s=[e,e+this[x(505)][x(540)]],c=[e,e-this.pinParams[x(540)]],d=t[0],l=Math[x(486)](Math[x(602)]()*2),_=d==="R"?s[l]:c[l],n=m[x(499)][x(596)](_,0,this[x(527)][x(503)],{id:this.id++,label:x(587),mass:1,restitution:0,friction:0,frictionAir:this[x(527)][x(481)],collisionFilter:{group:this.nonCollideGroup}}),a=new y().circle(0,0,this.ballConfig.ballRadius)[x(576)](16733525);a[x(591)][x(500)](n[x(591)].x,n.position.y),m[x(487)].add(this[x(539)],n),this.app[x(582)].addChild(a);const o=()=>{const f=x;a.position[f(500)](n[f(591)].x,n.position.y),a[f(584)]=n[f(478)];const b=(this[f(505)][f(475)]-2)*this[f(505)][f(540)]+this[f(505)][f(540)]/2;n.position.y>b&&(this[f(578)](n[f(591)].x),G.Composite.remove(this.world,n),a[f(536)](),this[f(589)][f(573)][f(563)](o),this[f(561)].delete(n.id))};this[x(589)][x(573)][x(494)](o);const r={path:t,start:l,fir:d};this[x(561)][x(500)](n.id,r)}pinsMatter=[];[i(577)]=[];createPinsAndResultBoxes(t){const x=i;this[x(502)](),this[x(505)]=t;const{rows:e,startY:s,gap:c,pinRadius:d}=t;for(let l=2;l<e;l++){const _=l+1,n=(_-1)*c,a=this[x(513)]/2-n/2;for(let o=0;o<_;o++){const r=a+o*c,f=s+(l-2)*c,b=m[x(499)][x(596)](r,f,d,{isStatic:!0,label:"row-"+(l-1)+"-"+o}),p=new y()[x(596)](0,0,d)[x(576)](16777215);p.x=r,p.y=f,this[x(568)][x(525)](b),this.pinsGfx[x(525)](p),m[x(487)][x(494)](this[x(539)],b),this[x(589)][x(582)][x(546)](p)}}this[x(559)]()}[i(553)](t){const x=i,{bodyA:e,bodyB:s}=t,c=e.label==="ball"?e:s[x(601)]===x(587)?s:null,d=e[x(601)][x(600)](x(491))?e[x(601)]:s[x(601)][x(600)]("row-")?s.label:null,l=e[x(601)].startsWith("row-")?e:s[x(601)][x(600)](x(491))?s:null;if(l&&this[x(545)](l),!c||!d)return;const _=c.id,n=Number[x(480)](d[x(521)]("-")[1],10),a=this[x(561)][x(490)](_);if(!a)return;const{path:o,start:r,fir:f}=a;if(!o||!f||Number[x(603)](n))return;if(n===1){const p=f==="R"?r===0?1:-1:r===0?-1.2:1.2;this[x(489)](c,p);return}const b=o[n-1];b==="R"?this[x(489)](c,1.2):b==="L"&&this[x(489)](c,-1.2)}[i(592)]=new Map;[i(518)]=i(534);async createResultBox(){const t=i,x=this.pinParams.gap,e=x-2,s=this[t(505)][t(475)]-1,c=s-2,d=this.pinParams.startY+c*x+x/2,l=this[t(513)]/2-s*x/2,_=this[t(505)][t(475)]-2;for(let n=0;n<s;n++){const a=l+n*x+1,o=new M({label:"res-"+n,interactive:!0}),r=new y()[t(493)](0,0,e,14,2)[t(576)]({color:this[t(473)](_,n)}),f=new y()[t(493)](0,0,e,16,2)[t(576)]({color:this[t(575)](_,n)});f.position[t(500)](0,0);const b=this[t(567)](this[t(518)],_,n)||0,p=new F({label:t(560)+n,text:b+`
x`,style:{fontSize:14,fill:"#000",align:t(571)},anchor:.5});p[t(591)][t(500)](e/2,8),p.scale[t(500)](.4),o[t(546)](f),o[t(546)](r),o[t(546)](p),o[t(591)][t(500)](a,d),this[t(592)][t(500)](n,o),this[t(589)][t(582)][t(546)](o),o.on(t(507),()=>{const g=t;this[g(515)](!0,this.getProbability(this[g(505)][g(475)]-2,n)[g(554)](4))}),o.on("mouseout",()=>{this[t(515)](!1)})}}[i(502)](){const t=i;for(const x of this[t(568)])m[t(487)][t(563)](this[t(539)],x);for(const x of this[t(577)])x[t(536)]();this[t(568)]=[],this.pinsGfx=[],this[t(592)].forEach(x=>{x[t(536)]()}),this[t(592)].clear(),this.firstY=0}addXPower(t,x){const e=i;m[e(517)][e(597)](t,{x,y:0})}[i(473)](t,x){return U["_"+t][x]}getShadow(t,x){return K["_"+t][x]}[i(567)](t,x,e){return S[t]["_"+x][e]}[i(533)](t,x){return $["_"+t][x]*100}[i(535)](t){const x=i;this[x(515)]=t}[i(541)](t){this.recordCallback=t}[i(562)](t){const x=i;if(this[x(518)]=t,!!S[t])for(const[s,c]of this.resBoxMap){const d=c[x(483)]("res-text-"+s),l=S[t]["_"+(this[x(505)][x(475)]-2)][s];d[x(548)]=l+`
x`}}findResultArea(t){const x=i;for(const[e,s]of this[x(592)][x(510)]()){const c=s.x,d=s.x+s[x(513)];t>=c&&t<=d&&(this[x(495)](s),console.log(x(531)+e))}}[i(477)](){const t=i;m[t(572)].on(this[t(565)],t(595),x=>{const e=t;for(const s of x[e(482)])this[e(553)](s)})}[i(545)](t){const x=i,e=new y;e[x(591)][x(500)](t[x(591)].x,t[x(591)].y),this[x(589)][x(582)][x(546)](e);const s=0,c=10,d=400,l=performance[x(523)](),_=n=>{const a=x,o=n-l,r=Math[a(585)](o/d,1),f=s+(c-s)*r,b=.9*(1-r);e[a(492)]();const p=t[a(588)]??4;e[a(596)](0,0,p*1.2+f)[a(576)]({color:16777215,alpha:b}),r<1?requestAnimationFrame(_):e[a(536)]()};requestAnimationFrame(_)}[i(590)]=0;[i(495)](t){const x=i,e=t[x(591)].y;this.firstY||(this.firstY=e);const s=4,c=150,d=performance[x(523)](),l=_=>{const n=x,a=_-d,o=Math[n(585)](a/c,1);t[n(591)].y=e+s*o,o<1?requestAnimationFrame(l):t.position.y=this.firstY};requestAnimationFrame(l)}[i(472)]=new W;[i(594)]=[];[i(566)]=4;[i(524)]=26;[i(556)]=26;[i(564)]=new M;[i(581)]=0;[i(508)](t){const x=i;this[x(557)]=t}[i(529)](t,x,e){const s=i,c=e?.6:1,d=[{x:0,y:this[s(556)],radius:0},{x:this[s(524)],y:this[s(556)],radius:0},{x:this.boxWidth,y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(d[2][s(547)]=4,d[3][s(547)]=4):t===this[s(566)]-1&&(d[0].radius=4,d[1][s(547)]=4),new y({label:String(x)})[s(542)](d,10)[s(576)]({color:x,alpha:c})[s(537)]({width:1,color:0})}[i(586)](t,x){const e=i,s=new M({interactive:!0});s[e(591)][e(500)](0,-this[e(556)]);const c=this.createRoundedRect(this[e(581)],x),d=new F({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});d.position.x=this[e(524)]/2,d[e(591)].y=this.boxHeight/2,s[e(546)](c),s[e(546)](d),this.stackBox.addChild(s),this.recordArr[e(511)](s);let l;s.on(e(507),()=>{const n=e;l=this[n(529)](this[n(581)],0,!0),s.addChild(l)}),s.on(e(538),()=>{const n=e;l&&(s[n(485)](l),l?.destroy(),l=null)}),s.on(e(498),()=>{const n=e;console[n(550)](n(580)),this.recordCallback&&this.recordCallback()}),this[e(581)]++,this[e(581)]===4&&(this[e(581)]=1),this[e(594)][e(509)]((n,a)=>{const o=e,r=a*this[o(556)];if(this[o(594)].length>1){const f=this[o(594)][a],b=f[o(485)](f[o(520)][0]),p=b[o(601)];b.destroy(),this[o(594)][a][o(546)](this.createRoundedRect(a,Number(p))),this.recordArr[a][o(520)].reverse()}new N(n[o(591)],this[o(472)]).to({y:r},200).start()});const _=n=>{const a=e;this[a(472)][a(514)](n.lastTime)};if(this[e(594)][e(528)]>this[e(566)]){const n=this.recordArr[e(543)]();new N(n.position,this[e(472)]).to({alpha:0},150)[e(570)](()=>{const a=e;this[a(589)][a(573)][a(563)](_),this[a(564)][a(485)](n),n?.destroy()})[e(479)]()}this[e(589)][e(573)].add(_)}}const w=B;(function(h,t){const x=B,e=h();for(;;)try{if(-parseInt(x(191))/1*(parseInt(x(193))/2)+parseInt(x(170))/3+parseInt(x(157))/4+parseInt(x(188))/5*(parseInt(x(183))/6)+parseInt(x(186))/7+-parseInt(x(178))/8*(parseInt(x(200))/9)+parseInt(x(159))/10*(-parseInt(x(174))/11)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,831333);const t0={class:"relative"},e0={class:w(167)},s0={class:"input-wrap"},a0=[w(196)],i0={class:w(195)},n0={key:0,id:w(172),class:w(194)},o0={class:"counter"},r0={class:w(198)},c0=[w(152)];function k(){const h=["aria-invalid","target","w-full flex justify-center items-center","#1e1e1e","10269HcrmEn","path","input","split","disabled","请输入 10 位路径，仅允许 L 或 R","air","div","仅允许填写字符 L 或 R","334620BLQNRd","label","10RAALIJ","AppPlinko","slice","createBall","off","input-control"," 位，请填写 10 位","test","relative","ballConfig","radius","4056354lUxzTu","toUpperCase","path-help","get","13341086yDRMmB","当前 ","text","value","7024hkpSpS","length","false","characters","container","328974tZvpWi","span","start-btn","8671257QKzxuf","例如：LRRLLRLR","115IqLjDC","投球路径（10 位，仅 L/R）","setBallConfig","889634OJaQCR","pins","2OmVZig","help","hint-row"];return k=function(){return h},k()}function B(h,t){const x=k();return B=function(e,s){return e=e-152,x[e]},B(h,t)}const d0=10,f0=Z({__name:w(160),setup(h){const t=w,x=L(null);let e;const s=L(""),c=T(()=>/^[LR]{10}$/[t(166)](s[t(177)])),d=L(!1),l=T(()=>{const a=t;return s[a(177)]?/[^LR]/[a(166)](s[a(177)])?a(156):s[a(177)][a(179)]!==10?a(175)+s[a(177)][a(179)]+a(165):"":a(153)});function _(a){const o=t,r=a[o(197)],f=r[o(177)][o(171)]().replace(/[^LR]/g,"")[o(161)](0,10);s.value=f}async function n(){const a=t;if(!c.value||d[a(177)]||!e)return;d[a(177)]=!0;const o=s[a(177)][a(203)]("");e[a(162)](o),setTimeout(()=>d.value=!1,400)}return E(async()=>{const a=t,o=H[a(173)](10);x[a(177)]&&(e=new x0(x[a(177)]),await e.init(300,276,a(199)),await e.createPinsAndResultBoxes(o?.[a(192)]??{rows:12,startY:24,gap:24,pinRadius:4}),e[a(190)](o?.ballConfig[a(169)],o?.[a(168)][a(154)]))}),(a,o)=>{const r=t;return Y(),V("div",t0,[u("div",e0,[u("div",{ref_key:"container",ref:x,class:r(182)},null,512)]),u("div",s0,[o[1]||(o[1]=u("label",{class:r(158),for:r(201)},r(189),-1)),O(u(r(202),{id:r(201),class:q([r(164),{invalid:!c[r(177)]&&s.value}]),type:r(176),"onUpdate:modelValue":o[0]||(o[0]=f=>s[r(177)]=f),maxlength:d0,placeholder:r(187),onInput:_,autocomplete:r(163),autocapitalize:r(181),spellcheck:r(180),"aria-describedby":r(172),"aria-invalid":!c.value},null,42,a0),[[Q,s[r(177)]]]),u(r(155),i0,[l.value?(Y(),V(r(184),n0,z(l[r(177)]),1)):J("",!0),u(r(184),o0,z(s[r(177)][r(179)])+"/10",1)])]),u(r(155),r0,[u("button",{class:r(185),disabled:!c[r(177)]||d[r(177)],onClick:n,title:"2 秒允许点击一次"}," 开始游戏 ",8,c0)])])}}});var l0=P;(function(h,t){for(var x=P,e=h();;)try{var s=-parseInt(x(363))/1*(parseInt(x(367))/2)+parseInt(x(366))/3+parseInt(x(365))/4+parseInt(x(364))/5+parseInt(x(369))/6+parseInt(x(371))/7+-parseInt(x(370))/8;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,790096);function A(){var h=["2643216xgOyGS","904jiKhCy","__scopeId","1535556WQeJkJ","17550584lVxenV","411740iRZeIe","2356eVOrQK","7190270yVVZXR","5659836CzCVGr"];return A=function(){return h},A()}function P(h,t){var x=A();return P=function(e,s){e=e-363;var c=x[e];return c},P(h,t)}const u0=X(f0,[[l0(368),"data-v-cb23dd70"]]);export{u0 as A,X as _};
