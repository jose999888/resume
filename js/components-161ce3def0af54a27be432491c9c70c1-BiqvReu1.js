import{d as X,r as G,c as M,o as Y,a as E,b as F,e as m,w as z,v as Z,n as q,f as K,t as N}from"./vendor-BVj2_wH_.js";import{A as D,G as g,C as T,B as S}from"./vendor-pixi-js-KO_wzmDG.js";import{m as Q,_ as u}from"./vendor-matter-js-DKIxhJoF.js";import{G as V,T as H}from"./vendor-tweenjs-BtMkXI7v.js";const j=(_,t)=>{const x=_.__vccOpts||_;for(const[e,s]of t)x[e]=s;return x};function v(_,t){const x=I();return v=function(e,s){return e=e-189,x[e]},v(_,t)}(function(_,t){const x=v,e=_();for(;;)try{if(parseInt(x(191))/1*(parseInt(x(198))/2)+parseInt(x(190))/3*(parseInt(x(192))/4)+parseInt(x(199))/5*(-parseInt(x(197))/6)+parseInt(x(203))/7*(-parseInt(x(202))/8)+-parseInt(x(195))/9*(parseInt(x(201))/10)+parseInt(x(189))/11*(-parseInt(x(194))/12)+parseInt(x(200))/13===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(I,787943);function J(){const _=o=>{const d=v,h=o[d(193)]((i,a)=>i+a,0);return o[d(196)](i=>i/h)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:_([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const U=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function I(){const _=["8590rhPnHy","18010096UVhvxD","2239730AyAcxB","184dNvNnG","196854JcjnSr","220hawpMJ","205395OxsHZu","7nZDQEK","4FYyGZB","reduce","749820DrFHwH","9QeIdQR","map","294IKekbu","439642hXHQHY"];return I=function(){return _},I()}const c=C;function R(){const _=["timing","recordArr","popCallback","lastTime","addXPower","positionIterations","delete","init","now","2060036cQtTwT","removeChild","Runner","scale","1513839GqneFx","ballParamsMap","createResultBox","listenCollisions","422765oNRjUv","tweenGroup","rows","12232325EZbyrT","circle","length","style","getShadow","dealCollisions","forEach","getBg","gameRes","parseInt","gap","res-","center","canvas","findResultArea","mouseover","startY","position","Body","getProbability","createBall","min","random","add","pinsGfx","Engine","pinParams","push","clear","resBoxMap","stackBox","runner","Events","row-","height","update","remove","frictionAir","Composite","ballConfig","1504839rZWYrG","pinsMatter","recordCount","startsWith","res-text-","pinAnimal","132gTxntw","recordCallback","createElement","log","getText","tickerFn","firstY","createRoundedRect","37673271LzSpDc","pop","roundShape","collisionStart","ticker","setRecordClickCb","nonCollideGroup","ball","#000","boxHeight","app","ballRadius","setPopCb","radius","setLevel","maxCount","destroy","pairs","stage","create","Ball hit result box ","getChildByLabel","run","fill","isNaN","setGameRes","level","2701240dKggkz","engine","split","roundRect","4cAEGaS","resBoxAnimal","boxWidth","addChild","clearPinsAndRes","low","setBallConfig","label","world","Bodies","width","text","circleRadius","onComplete","set","children"];return R=function(){return _},R()}(function(_,t){const x=C,e=_();for(;;)try{if(-parseInt(x(411))/1+-parseInt(x(456))/2*(parseInt(x(364))/3)+-parseInt(x(360))/4+parseInt(x(368))/5*(parseInt(x(417))/6)+-parseInt(x(371))/7+-parseInt(x(452))/8+parseInt(x(425))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(R,931881);const{colors:O,shadows:$,resText:L,probabilities:x0}=J();function C(_,t){const x=R();return C=function(e,s){return e=e-349,x[e]},C(_,t)}class t0{id=1;canvas;[c(435)];[c(453)];[c(464)];[c(402)];width;height;[c(422)];[c(365)]=new Map;[c(397)]={};[c(431)]=Q.Body.nextGroup(!0);[c(410)]={ballRadius:4,frictionAir:.05};popCallback;[c(418)];gameRes;constructor(t){const x=c;this[x(384)]=document[x(419)]("canvas"),t.appendChild(this[x(384)]),this[x(435)]=new D,this.engine=u[x(396)][x(444)](),this[x(464)]=this[x(453)][x(464)],this[x(402)]=u[x(362)][x(444)](),this[x(453)][x(356)]=10,this[x(453)].velocityIterations=10,this.engine[x(351)].timeScale=2}async[c(358)](t,x,e){const s=c;this[s(466)]=t,this.height=x,this[s(384)].style.width=t+"px",this[s(384)][s(374)][s(405)]=x+"px",this[s(401)][s(388)][s(349)](this[s(466)]-45,this[s(405)]/4),this[s(435)][s(443)][s(459)](this[s(401)]),await this[s(435)].init({canvas:this[s(384)],width:t,height:x,background:e,antialias:!0,resolution:window.devicePixelRatio}),u[s(362)][s(447)](this[s(402)],this.engine),this[s(367)]()}[c(462)](t,x){const e=c;this[e(410)]={ballRadius:t,frictionAir:x}}[c(391)](t){const x=c,e=this.width/2,s=[e,e+this[x(397)][x(381)]],o=[e,e-this[x(397)].gap],d=t[0],h=Math.floor(Math[x(393)]()*2),f=d==="R"?s[h]:o[h],i=u[x(465)][x(372)](f,0,this[x(410)].ballRadius,{id:this.id++,label:x(432),mass:1,restitution:0,friction:0,frictionAir:this[x(410)][x(408)],collisionFilter:{group:this[x(431)]}}),a=new g()[x(372)](0,0,this[x(410)][x(436)]).fill(16733525);a[x(388)][x(349)](i[x(388)].x,i[x(388)].y),u[x(409)].add(this[x(464)],i),this[x(435)][x(443)][x(459)](a);const n=()=>{const l=x;a[l(388)][l(349)](i[l(388)].x,i.position.y),a.rotation=i.angle;const b=(this[l(397)][l(370)]-2)*this[l(397)].gap+this[l(397)][l(381)]/2;i[l(388)].y>b&&(this[l(385)](i[l(388)].x),u[l(409)][l(407)](this[l(464)],i),a.destroy(),this.app.ticker.remove(n),this[l(365)][l(357)](i.id))};this[x(435)].ticker[x(394)](n);const r={path:t,start:h,fir:d};this.ballParamsMap.set(i.id,r)}[c(412)]=[];[c(395)]=[];createPinsAndResultBoxes(t){const x=c;this.clearPinsAndRes(),this[x(397)]=t;const{rows:e,startY:s,gap:o,pinRadius:d}=t;for(let h=2;h<e;h++){const f=h+1,i=(f-1)*o,a=this[x(466)]/2-i/2;for(let n=0;n<f;n++){const r=a+n*o,l=s+(h-2)*o,b=u[x(465)].circle(r,l,d,{isStatic:!0,label:x(404)+(h-1)+"-"+n}),p=new g().circle(0,0,d)[x(448)](16777215);p.x=r,p.y=l,this[x(412)].push(b),this[x(395)][x(398)](p),u[x(409)].add(this[x(464)],b),this.app[x(443)][x(459)](p)}}this[x(366)]()}[c(376)](t){const x=c,{bodyA:e,bodyB:s}=t,o=e[x(463)]===x(432)?e:s[x(463)]===x(432)?s:null,d=e[x(463)][x(414)](x(404))?e.label:s.label[x(414)](x(404))?s[x(463)]:null,h=e[x(463)][x(414)](x(404))?e:s.label[x(414)](x(404))?s:null;if(h&&this[x(416)](h),!o||!d)return;const f=o.id,i=Number[x(380)](d[x(454)]("-")[1],10),a=this[x(365)].get(f);if(!a)return;const{path:n,start:r,fir:l}=a;if(!n||!l||Number[x(449)](i))return;if(i===1){const p=l==="R"?r===0?1:-1:r===0?-1.2:1.2;this.addXPower(o,p);return}const b=n[i-1];b==="R"?this[x(355)](o,1.2):b==="L"&&this.addXPower(o,-1.2)}[c(400)]=new Map;[c(451)]=c(461);async createResultBox(){const t=c,x=this.pinParams[t(381)],e=x-2,s=this[t(397)].rows-1,o=s-2,d=this[t(397)][t(387)]+o*x+x/2,h=this[t(466)]/2-s*x/2,f=this.pinParams.rows-2;for(let i=0;i<s;i++){const a=h+i*x+1,n=new T({label:t(382)+i,interactive:!0}),r=new g()[t(455)](0,0,e,14,2).fill({color:this[t(378)](f,i)}),l=new g()[t(455)](0,0,e,16,2)[t(448)]({color:this[t(375)](f,i)});l[t(388)][t(349)](0,0);const b=this[t(421)](this[t(451)],f,i)||0,p=new S({label:t(415)+i,text:b+`
x`,style:{fontSize:14,fill:t(433),align:t(383)},anchor:.5});p[t(388)].set(e/2,8),p[t(363)].set(.4),n[t(459)](l),n[t(459)](r),n.addChild(p),n.position[t(349)](a,d),this[t(400)].set(i,n),this.app[t(443)][t(459)](n),n.on(t(386),()=>{const y=t;this[y(353)](!0,this[y(390)](this[y(397)][y(370)]-2,i).toFixed(4))}),n.on("mouseout",()=>{this[t(353)](!1)})}}[c(460)](){const t=c;for(const x of this[t(412)])u[t(409)][t(407)](this.world,x);for(const x of this[t(395)])x[t(441)]();this[t(412)]=[],this[t(395)]=[],this[t(400)][t(377)](x=>{x[t(441)]()}),this[t(400)][t(399)](),this[t(423)]=0}addXPower(t,x){u[c(389)].setVelocity(t,{x,y:0})}[c(378)](t,x){return O["_"+t][x]}[c(375)](t,x){return $["_"+t][x]}getText(t,x,e){return L[t]["_"+x][e]}[c(390)](t,x){return x0["_"+t][x]*100}[c(437)](t){const x=c;this[x(353)]=t}[c(430)](t){const x=c;this[x(418)]=t}[c(439)](t){const x=c;if(this[x(451)]=t,!!L[t])for(const[s,o]of this[x(400)]){const d=o[x(446)](x(415)+s),h=L[t]["_"+(this.pinParams[x(370)]-2)][s];d[x(467)]=h+`
x`}}[c(385)](t){const x=c;for(const[e,s]of this[x(400)].entries()){const o=s.x,d=s.x+s[x(466)];t>=o&&t<=d&&(this[x(457)](s),console[x(420)](x(445)+e))}}listenCollisions(){const t=c;u[t(403)].on(this[t(453)],t(428),x=>{const e=t;for(const s of x[e(442)])this[e(376)](s)})}pinAnimal(t){const x=c,e=new g;e[x(388)][x(349)](t[x(388)].x,t[x(388)].y),this[x(435)][x(443)][x(459)](e);const s=0,o=10,d=400,h=performance[x(359)](),f=i=>{const a=x,n=i-h,r=Math[a(392)](n/d,1),l=s+(o-s)*r,b=.9*(1-r);e[a(399)]();const p=t[a(468)]??4;e[a(372)](0,0,p*1.2+l)[a(448)]({color:16777215,alpha:b}),r<1?requestAnimationFrame(f):e[a(441)]()};requestAnimationFrame(f)}[c(423)]=0;[c(457)](t){const x=c,e=t[x(388)].y;this[x(423)]||(this[x(423)]=e);const s=4,o=150,d=performance[x(359)](),h=f=>{const i=x,a=f-d,n=Math[i(392)](a/o,1);t[i(388)].y=e+s*n,n<1?requestAnimationFrame(h):t[i(388)].y=this.firstY};requestAnimationFrame(h)}[c(369)]=new V;[c(352)]=[];[c(440)]=4;[c(458)]=26;boxHeight=26;[c(401)]=new T;[c(413)]=0;[c(450)](t){const x=c;this[x(379)]=t}createRoundedRect(t,x,e){const s=c,o=e?.6:1,d=[{x:0,y:this[s(434)],radius:0},{x:this[s(458)],y:this[s(434)],radius:0},{x:this.boxWidth,y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(d[2].radius=4,d[3][s(438)]=4):t===this[s(440)]-1&&(d[0][s(438)]=4,d[1][s(438)]=4),new g({label:String(x)})[s(427)](d,10)[s(448)]({color:x,alpha:o}).stroke({width:1,color:0})}addRecord(t,x){const e=c,s=new T({interactive:!0});s[e(388)][e(349)](0,-this[e(434)]);const o=this[e(424)](this.recordCount,x),d=new S({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});d[e(388)].x=this[e(458)]/2,d[e(388)].y=this[e(434)]/2,s[e(459)](o),s[e(459)](d),this[e(401)].addChild(s),this.recordArr.unshift(s);let h;s.on(e(386),()=>{const i=e;h=this[i(424)](this.recordCount,0,!0),s[i(459)](h)}),s.on("mouseout",()=>{const i=e;h&&(s[i(361)](h),h?.destroy(),h=null)}),s.on("click",()=>{const i=e;console[i(420)]("显示游戏结果事件"),this[i(418)]&&this[i(418)]()}),this.recordCount++,this[e(413)]===4&&(this[e(413)]=1),this[e(352)].forEach((i,a)=>{const n=e,r=a*this[n(434)];if(this[n(352)][n(373)]>1){const l=this[n(352)][a],b=l[n(361)](l[n(350)][0]),p=b[n(463)];b[n(441)](),this.recordArr[a][n(459)](this[n(424)](a,Number(p))),this[n(352)][a][n(350)].reverse()}new H(i[n(388)],this[n(369)]).to({y:r},200).start()});const f=i=>{const a=e;this[a(369)][a(406)](i[a(354)])};if(this[e(352)][e(373)]>this.maxCount){const i=this.recordArr[e(426)]();new H(i.position,this[e(369)]).to({alpha:0},150)[e(469)](()=>{const a=e;this[a(435)][a(429)][a(407)](f),this.stackBox.removeChild(i),i?.destroy()}).start()}this[e(435)][e(429)][e(394)](f)}}function k(_,t){const x=A();return k=function(e,s){return e=e-267,x[e]},k(_,t)}const w=k;(function(_,t){const x=k,e=_();for(;;)try{if(parseInt(x(269))/1*(-parseInt(x(292))/2)+-parseInt(x(281))/3+parseInt(x(270))/4+-parseInt(x(284))/5*(-parseInt(x(303))/6)+-parseInt(x(291))/7+-parseInt(x(289))/8+parseInt(x(280))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,843544);const e0={class:w(277)},s0={class:w(277)},a0={class:w(273)},i0=[w(285)],n0={class:"hint-row"},c0={key:0,id:"path-help",class:w(305)},r0={class:"counter"},o0={class:w(287)},d0=[w(275)];function A(){const _=["input-wrap","container","disabled","label","relative","split","仅允许填写字符 L 或 R","3158577fXTliB","843636NcshOX","test","div","85GGhkWT","aria-invalid","value","w-full flex justify-center items-center","slice","9662088xaeCEN","replace","2547055sTXIKZ","229156bWdqbs"," 开始游戏 ","当前 ","off","/10","setBallConfig","text","path-help","target","span","path","394638WwJFxx","input-control","help","createPinsAndResultBoxes","false","start-btn","length","ballConfig","init","请输入 10 位路径，仅允许 L 或 R","pins","AppPlinko","1GtCpiK","5367464XFzKHj","例如：LRRLLRLR","air"];return A=function(){return _},A()}const l0=10,h0=X({__name:w(268),setup(_){const t=w,x=G(null);let e;const s=G(""),o=M(()=>/^[LR]{10}$/[t(282)](s[t(286)])),d=G(!1),h=M(()=>{const a=t;return s.value?/[^LR]/.test(s[a(286)])?a(279):s[a(286)][a(309)]!==10?a(294)+s[a(286)][a(309)]+" 位，请填写 10 位":"":a(312)});function f(a){const n=t,r=a[n(300)],l=r.value.toUpperCase()[n(290)](/[^LR]/g,"")[n(288)](0,10);s[n(286)]=l}async function i(){const a=t;if(!o[a(286)]||d.value||!e)return;d[a(286)]=!0;const n=s[a(286)][a(278)]("");e.createBall(n),setTimeout(()=>d[a(286)]=!1,400)}return Y(async()=>{const a=t,n=U.get(10);x.value&&(e=new t0(x[a(286)]),await e[a(311)](300,276,"#1e1e1e"),await e[a(306)](n?.[a(267)]??{rows:12,startY:24,gap:24,pinRadius:4}),e[a(297)](n?.[a(310)].radius,n?.[a(310)][a(272)]))}),(a,n)=>{const r=t;return F(),E("div",e0,[m("div",s0,[m(r(283),{ref_key:r(274),ref:x,class:r(274)},null,512)]),m(r(283),a0,[n[1]||(n[1]=m(r(276),{class:r(276),for:r(302)},"投球路径（10 位，仅 L/R）",-1)),z(m("input",{id:r(302),class:q([r(304),{invalid:!o.value&&s.value}]),type:r(298),"onUpdate:modelValue":n[0]||(n[0]=l=>s.value=l),maxlength:l0,placeholder:r(271),onInput:f,autocomplete:r(295),autocapitalize:"characters",spellcheck:r(307),"aria-describedby":r(299),"aria-invalid":!o[r(286)]},null,42,i0),[[Z,s[r(286)]]]),m(r(283),n0,[h.value?(F(),E(r(301),c0,N(h.value),1)):K("",!0),m(r(301),r0,N(s[r(286)].length)+r(296),1)])]),m("div",o0,[m("button",{class:r(308),disabled:!o[r(286)]||d[r(286)],onClick:i,title:"2 秒允许点击一次"},r(293),8,d0)])])}}});function B(_,t){var x=P();return B=function(e,s){e=e-319;var o=x[e];return o},B(_,t)}var W=B;(function(_,t){for(var x=B,e=_();;)try{var s=parseInt(x(327))/1*(-parseInt(x(319))/2)+-parseInt(x(324))/3+parseInt(x(325))/4*(-parseInt(x(328))/5)+parseInt(x(326))/6+parseInt(x(320))/7+-parseInt(x(323))/8+parseInt(x(322))/9;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(P,105309);function P(){var _=["__scopeId","2eWmugI","202132nvqyhx","data-v-cb23dd70","4215564EzLrZg","181304JsWybH","388083rYGXCE","586412loZhHu","582198haQRnC","190369TIwWGP","5eKsRdw"];return P=function(){return _},P()}const u0=j(h0,[[W(329),W(321)]]);export{u0 as A,j as _};
