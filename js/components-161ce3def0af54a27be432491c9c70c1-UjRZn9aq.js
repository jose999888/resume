import{d as S,r as L,c as G,o as W,a as Y,b as z,e as w,w as Z,v as j,n as V,f as q,t as D}from"./vendor-B53ZnZId.js";import{A as X,G as I,C as P,B as E}from"./vendor-pixi-js-CbWXL6N4.js";import{_ as m,m as N}from"./vendor-matter-js-BPzui2TA.js";import{G as H,T as F}from"./vendor-tweenjs-BtMkXI7v.js";const K=(f,t)=>{const x=f.__vccOpts||f;for(const[e,s]of t)x[e]=s;return x};(function(f,t){const x=g,e=f();for(;;)try{if(parseInt(x(474))/1*(parseInt(x(472))/2)+parseInt(x(465))/3+-parseInt(x(475))/4+-parseInt(x(464))/5+-parseInt(x(471))/6*(-parseInt(x(468))/7)+-parseInt(x(467))/8*(-parseInt(x(469))/9)+parseInt(x(470))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,515436);function Q(){const f=c=>{const b=g,l=c[b(466)]((n,a)=>n+a,0);return c[b(473)](n=>n/l)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:f([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}function g(f,t){const x=v();return g=function(e,s){return e=e-464,x[e]},g(f,t)}function v(){const f=["10853200IUxoRd","6HDEexB","4kdRVjR","map","2681ZcMNgt","4055768qlodpr","2587045ljowMX","1381812IvLtpW","reduce","1432czCThL","503909zNIfSp","21294pZtwmY"];return v=function(){return f},v()}const J=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function C(){const f=["length","push","engine","显示游戏结果事件","getProbability","circle","createBall","stage","addChild","getChildByLabel","nonCollideGroup","tickerFn","row-","getShadow","resBoxAnimal","run","clear","set","runner","resBoxMap","min","Ball hit result box ","res-","6BJiWpY","destroy","roundShape","entries","addRecord","timeScale","findResultArea","update","appendChild","fill","scale","reverse","world","ball","recordCount","parseInt","recordArr","180585lIpHcb","positionIterations","removeChild","2879793fxGBOj","Engine","startY","13102780CQLReE","add","2655WHszbt","center","rows","lastTime","ticker","delete","now","res-text-","position","createElement","createRoundedRect","canvas","low","ballRadius","setBallConfig","height","app","pinParams","gameRes","clearPinsAndRes","recordCallback","roundRect","dealCollisions","722880mrYZRI","createPinsAndResultBoxes","start","unshift","11bfVMnC","gap","getText","16928khhMtv","Composite","level","tweenGroup","setRecordClickCb","angle","label","mouseout","Body","click","createResultBox","pinsMatter","devicePixelRatio","log","rotation","children","boxWidth","create","split","stackBox","Events","setGameRes","addXPower","pinsGfx","random","287439TrrXIv","width","maxCount","6pGrocF","circleRadius","#000","nextGroup","frictionAir","ballConfig","timing","velocityIterations","remove","init","ballParamsMap","collisionStart","listenCollisions","radius","popCallback","startsWith","mouseover","pinAnimal","forEach","Runner","boxHeight","Bodies","setPopCb","style","getBg","firstY","4862830bliTzK"];return C=function(){return f},C()}const i=y;(function(f,t){const x=y,e=f();for(;;)try{if(parseInt(x(481))/1*(parseInt(x(401))/2)+parseInt(x(418))/3+parseInt(x(449))/4+parseInt(x(510))/5+-parseInt(x(484))/6*(-parseInt(x(421))/7)+parseInt(x(456))/8*(-parseInt(x(426))/9)+-parseInt(x(424))/10*(parseInt(x(453))/11)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(C,552699);function y(f,t){const x=C();return y=function(e,s){return e=e-394,x[e]},y(f,t)}const{colors:U,shadows:O,resText:T,probabilities:$}=Q();class x0{id=1;[i(437)];[i(442)];engine;world;runner;[i(482)];[i(441)];[i(522)];[i(494)]=new Map;[i(443)]={};[i(521)]=m[i(464)][i(487)](!0);[i(489)]={ballRadius:4,frictionAir:.05};[i(498)];[i(446)];[i(444)];constructor(t){const x=i;this[x(437)]=document[x(435)](x(437)),t[x(409)](this.canvas),this[x(442)]=new X,this.engine=m[x(422)].create(),this.world=this[x(513)].world,this[x(396)]=m[x(503)][x(473)](),this[x(513)][x(419)]=10,this.engine[x(491)]=10,this[x(513)][x(490)][x(406)]=2}async[i(493)](t,x,e){const s=i;this[s(482)]=t,this[s(441)]=x,this.canvas[s(507)].width=t+"px",this[s(437)][s(507)][s(441)]=x+"px",this[s(475)].position[s(395)](this[s(482)]-45,this[s(441)]/4),this.app[s(518)][s(519)](this[s(475)]),await this[s(442)][s(493)]({canvas:this.canvas,width:t,height:x,background:e,antialias:!0,resolution:window[s(468)]}),m[s(503)][s(526)](this.runner,this[s(513)]),this[s(496)]()}[i(440)](t,x){this.ballConfig={ballRadius:t,frictionAir:x}}[i(517)](t){const x=i,e=this[x(482)]/2,s=[e,e+this[x(443)].gap],c=[e,e-this.pinParams[x(454)]],b=t[0],l=Math.floor(Math[x(480)]()*2),h=b==="R"?s[l]:c[l],n=m[x(505)][x(516)](h,0,this[x(489)][x(439)],{id:this.id++,label:"ball",mass:1,restitution:0,friction:0,frictionAir:this[x(489)][x(488)],collisionFilter:{group:this[x(521)]}}),a=new I()[x(516)](0,0,this[x(489)][x(439)])[x(410)](16733525);a[x(434)][x(395)](n[x(434)].x,n[x(434)].y),N.Composite[x(425)](this[x(413)],n),this[x(442)].stage[x(519)](a);const r=()=>{const d=x;a[d(434)][d(395)](n[d(434)].x,n.position.y),a[d(470)]=n[d(461)];const _=(this[d(443)].rows-2)*this.pinParams[d(454)]+this[d(443)][d(454)]/2;n[d(434)].y>_&&(this[d(407)](n[d(434)].x),m[d(457)][d(492)](this[d(413)],n),a[d(402)](),this[d(442)].ticker[d(492)](r),this[d(494)][d(431)](n.id))};this.app[x(430)][x(425)](r);const o={path:t,start:l,fir:b};this[x(494)].set(n.id,o)}[i(467)]=[];[i(479)]=[];[i(450)](t){const x=i;this[x(445)](),this[x(443)]=t;const{rows:e,startY:s,gap:c,pinRadius:b}=t;for(let l=2;l<e;l++){const h=l+1,n=(h-1)*c,a=this[x(482)]/2-n/2;for(let r=0;r<h;r++){const o=a+r*c,d=s+(l-2)*c,_=N.Bodies[x(516)](o,d,b,{isStatic:!0,label:x(523)+(l-1)+"-"+r}),p=new I()[x(516)](0,0,b)[x(410)](16777215);p.x=o,p.y=d,this.pinsMatter.push(_),this[x(479)][x(512)](p),m[x(457)][x(425)](this.world,_),this[x(442)][x(518)][x(519)](p)}}this[x(466)]()}[i(448)](t){const x=i,{bodyA:e,bodyB:s}=t,c=e[x(462)]===x(414)?e:s[x(462)]===x(414)?s:null,b=e[x(462)][x(499)](x(523))?e[x(462)]:s.label[x(499)](x(523))?s.label:null,l=e[x(462)].startsWith("row-")?e:s[x(462)][x(499)](x(523))?s:null;if(l&&this[x(501)](l),!c||!b)return;const h=c.id,n=Number[x(416)](b[x(474)]("-")[1],10),a=this.ballParamsMap.get(h);if(!a)return;const{path:r,start:o,fir:d}=a;if(!r||!d||Number.isNaN(n))return;if(n===1){const p=d==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(478)](c,p);return}const _=r[n-1];_==="R"?this[x(478)](c,1.2):_==="L"&&this.addXPower(c,-1.2)}[i(397)]=new Map;[i(458)]=i(438);async[i(466)](){const t=i,x=this[t(443)][t(454)],e=x-2,s=this[t(443)][t(428)]-1,c=s-2,b=this[t(443)][t(423)]+c*x+x/2,l=this[t(482)]/2-s*x/2,h=this[t(443)].rows-2;for(let n=0;n<s;n++){const a=l+n*x+1,r=new P({label:t(400)+n,interactive:!0}),o=new I()[t(447)](0,0,e,14,2)[t(410)]({color:this[t(508)](h,n)}),d=new I()[t(447)](0,0,e,16,2)[t(410)]({color:this[t(524)](h,n)});d[t(434)][t(395)](0,0);const _=this[t(455)](this[t(458)],h,n)||0,p=new E({label:t(433)+n,text:_+`
x`,style:{fontSize:14,fill:t(486),align:t(427)},anchor:.5});p.position[t(395)](e/2,8),p[t(411)][t(395)](.4),r[t(519)](d),r[t(519)](o),r[t(519)](p),r.position[t(395)](a,b),this.resBoxMap[t(395)](n,r),this[t(442)][t(518)].addChild(r),r.on(t(500),()=>{const M=t;this.popCallback(!0,this[M(515)](this[M(443)].rows-2,n).toFixed(4))}),r.on(t(463),()=>{this[t(498)](!1)})}}[i(445)](){const t=i;for(const x of this[t(467)])m[t(457)][t(492)](this[t(413)],x);for(const x of this[t(479)])x[t(402)]();this[t(467)]=[],this.pinsGfx=[],this.resBoxMap[t(502)](x=>{x[t(402)]()}),this.resBoxMap[t(394)](),this[t(509)]=0}[i(478)](t,x){m[i(464)].setVelocity(t,{x,y:0})}[i(508)](t,x){return U["_"+t][x]}[i(524)](t,x){return O["_"+t][x]}[i(455)](t,x,e){return T[t]["_"+x][e]}[i(515)](t,x){return $["_"+t][x]*100}[i(506)](t){this.popCallback=t}[i(460)](t){const x=i;this[x(446)]=t}setLevel(t){const x=i;if(this[x(458)]=t,!!T[t])for(const[s,c]of this[x(397)]){const b=c[x(520)](x(433)+s),l=T[t]["_"+(this[x(443)][x(428)]-2)][s];b.text=l+`
x`}}findResultArea(t){const x=i;for(const[e,s]of this.resBoxMap[x(404)]()){const c=s.x,b=s.x+s[x(482)];t>=c&&t<=b&&(this[x(525)](s),console[x(469)](x(399)+e))}}[i(496)](){const t=i;m[t(476)].on(this[t(513)],t(495),x=>{for(const e of x.pairs)this.dealCollisions(e)})}pinAnimal(t){const x=i,e=new I;e.position[x(395)](t[x(434)].x,t.position.y),this[x(442)][x(518)][x(519)](e);const s=0,c=10,b=400,l=performance[x(432)](),h=n=>{const a=x,r=n-l,o=Math[a(398)](r/b,1),d=s+(c-s)*o,_=.9*(1-o);e[a(394)]();const p=t[a(485)]??4;e.circle(0,0,p*1.2+d)[a(410)]({color:16777215,alpha:_}),o<1?requestAnimationFrame(h):e[a(402)]()};requestAnimationFrame(h)}firstY=0;[i(525)](t){const x=i,e=t[x(434)].y;this.firstY||(this[x(509)]=e);const s=4,c=150,b=performance[x(432)](),l=h=>{const n=x,a=h-b,r=Math[n(398)](a/c,1);t[n(434)].y=e+s*r,r<1?requestAnimationFrame(l):t[n(434)].y=this[n(509)]};requestAnimationFrame(l)}[i(459)]=new H;[i(417)]=[];[i(483)]=4;[i(472)]=26;[i(504)]=26;[i(475)]=new P;recordCount=0;[i(477)](t){const x=i;this[x(444)]=t}[i(436)](t,x,e){const s=i,c=e?.6:1,b=[{x:0,y:this[s(504)],radius:0},{x:this[s(472)],y:this[s(504)],radius:0},{x:this[s(472)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(b[2][s(497)]=4,b[3][s(497)]=4):t===this[s(483)]-1&&(b[0].radius=4,b[1].radius=4),new I({label:String(x)})[s(403)](b,10)[s(410)]({color:x,alpha:c}).stroke({width:1,color:0})}[i(405)](t,x){const e=i,s=new P({interactive:!0});s[e(434)].set(0,-this[e(504)]);const c=this[e(436)](this.recordCount,x),b=new E({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});b[e(434)].x=this.boxWidth/2,b[e(434)].y=this[e(504)]/2,s[e(519)](c),s[e(519)](b),this[e(475)][e(519)](s),this[e(417)][e(452)](s);let l;s.on(e(500),()=>{const n=e;l=this[n(436)](this.recordCount,0,!0),s[n(519)](l)}),s.on("mouseout",()=>{const n=e;l&&(s[n(420)](l),l?.[n(402)](),l=null)}),s.on(e(465),()=>{const n=e;console[n(469)](n(514)),this[n(446)]&&this[n(446)]()}),this[e(415)]++,this.recordCount===4&&(this[e(415)]=1),this.recordArr.forEach((n,a)=>{const r=e,o=a*this[r(504)];if(this.recordArr[r(511)]>1){const d=this[r(417)][a],_=d[r(420)](d[r(471)][0]),p=_.label;_[r(402)](),this[r(417)][a].addChild(this[r(436)](a,Number(p))),this.recordArr[a][r(471)][r(412)]()}new F(n[r(434)],this[r(459)]).to({y:o},200)[r(451)]()});const h=n=>{const a=e;this[a(459)][a(408)](n[a(429)])};if(this.recordArr[e(511)]>this[e(483)]){const n=this.recordArr.pop();new F(n[e(434)],this[e(459)]).to({alpha:0},150).onComplete(()=>{const a=e;this[a(442)][a(430)][a(492)](h),this.stackBox.removeChild(n),n?.[a(402)]()}).start()}this[e(442)][e(430)].add(h)}}const u=B;(function(f,t){const x=B,e=f();for(;;)try{if(-parseInt(x(310))/1*(parseInt(x(302))/2)+-parseInt(x(296))/3*(parseInt(x(298))/4)+-parseInt(x(299))/5*(-parseInt(x(284))/6)+parseInt(x(274))/7+-parseInt(x(308))/8*(-parseInt(x(309))/9)+-parseInt(x(297))/10+parseInt(x(293))/11===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(R,560339);function R(){const f=["path-help","text","32KGjhBi","663309luJzPA","515DiMpge","init","ballConfig","counter"," 位，请填写 10 位","false","button","value","hint-row","例如：LRRLLRLR","AppPlinko","start-btn","pins","length","242046FnCLcD","span","2 秒允许点击一次","w-full flex justify-center items-center","help","air","get","disabled","当前 ","input-wrap","12ukxeTo","path","characters","split","relative","div","test","toUpperCase","createBall","16926954DXKZza","请输入 10 位路径，仅允许 L 或 R","container","315540AmiZsE","11064460erBHuC","12LDyfBA","2794660BDkyIJ","slice","off","3898gAosyT","label","aria-invalid","target"];return R=function(){return f},R()}function B(f,t){const x=R();return B=function(e,s){return e=e-264,x[e]},B(f,t)}const t0={class:u(288)},e0={class:u(288)},s0={class:u(283)},a0=[u(304)],i0={class:u(268)},n0={key:0,id:u(306),class:u(278)},r0={class:u(313)},o0={class:u(277)},c0=[u(281)],d0=10,b0=S({__name:u(270),setup(f){const t=u,x=L(null);let e;const s=L(""),c=G(()=>/^[LR]{10}$/[t(290)](s[t(267)])),b=L(!1),l=G(()=>{const a=t;return s[a(267)]?/[^LR]/[a(290)](s[a(267)])?"仅允许填写字符 L 或 R":s.value[a(273)]!==10?a(282)+s.value.length+a(264):"":a(294)});function h(a){const r=t,o=a[r(305)],d=o[r(267)][r(291)]().replace(/[^LR]/g,"")[r(300)](0,10);s[r(267)]=d}async function n(){const a=t;if(!c[a(267)]||b[a(267)]||!e)return;b[a(267)]=!0;const r=s[a(267)][a(287)]("");e[a(292)](r),setTimeout(()=>b[a(267)]=!1,400)}return W(async()=>{const a=t,r=J[a(280)](10);x[a(267)]&&(e=new x0(x[a(267)]),await e[a(311)](300,276,"#1e1e1e"),await e.createPinsAndResultBoxes(r?.[a(272)]??{rows:12,startY:24,gap:24,pinRadius:4}),e.setBallConfig(r?.ballConfig.radius,r?.[a(312)][a(279)]))}),(a,r)=>{const o=t;return z(),Y("div",t0,[w("div",e0,[w(o(289),{ref_key:o(295),ref:x,class:o(295)},null,512)]),w("div",s0,[r[1]||(r[1]=w(o(303),{class:o(303),for:o(285)},"投球路径（10 位，仅 L/R）",-1)),Z(w("input",{id:"path",class:V(["input-control",{invalid:!c[o(267)]&&s.value}]),type:o(307),"onUpdate:modelValue":r[0]||(r[0]=d=>s[o(267)]=d),maxlength:d0,placeholder:o(269),onInput:h,autocomplete:o(301),autocapitalize:o(286),spellcheck:o(265),"aria-describedby":o(306),"aria-invalid":!c[o(267)]},null,42,a0),[[j,s[o(267)]]]),w(o(289),i0,[l[o(267)]?(z(),Y(o(275),n0,D(l[o(267)]),1)):q("",!0),w(o(275),r0,D(s[o(267)][o(273)])+"/10",1)])]),w(o(289),o0,[w(o(266),{class:o(271),disabled:!c[o(267)]||b[o(267)],onClick:n,title:o(276)}," 开始游戏 ",8,c0)])])}}});var l0=k;(function(f,t){for(var x=k,e=f();;)try{var s=parseInt(x(104))/1*(-parseInt(x(110))/2)+parseInt(x(100))/3+parseInt(x(108))/4*(parseInt(x(107))/5)+parseInt(x(102))/6+parseInt(x(105))/7+-parseInt(x(103))/8*(-parseInt(x(111))/9)+-parseInt(x(106))/10*(parseInt(x(101))/11);if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,211255);function k(f,t){var x=A();return k=function(e,s){e=e-100;var c=x[e];return c},k(f,t)}function A(){var f=["8bJTQcx","25XaKYlt","1422281YZgQxT","39390TjtUDs","235PefsjL","15656BuugQZ","data-v-cb23dd70","4402zEQwVn","854649MvdDKW","1052733aZewNo","1683cveNDq","215604iiGybO"];return A=function(){return f},A()}const u0=K(b0,[["__scopeId",l0(109)]]);export{u0 as A,K as _};
