import{d as O,r as B,c as G,o as H,a as V,b as X,e as m,w as Y,v as Q,n as U,f as W,t as F}from"./vendor-BGTtdvBk.js";import{A as Z,G as g,C as P,B as T}from"./vendor-pixi-js-Bp48XqQ1.js";import{m as M,_ as w}from"./vendor-matter-js-DQwLettk.js";import{G as z,T as N}from"./vendor-tweenjs-BtMkXI7v.js";const J=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};(function(h,t){const x=E,e=h();for(;;)try{if(parseInt(x(446))/1+parseInt(x(448))/2*(-parseInt(x(452))/3)+-parseInt(x(445))/4*(parseInt(x(444))/5)+-parseInt(x(449))/6+parseInt(x(451))/7*(parseInt(x(453))/8)+parseInt(x(450))/9+parseInt(x(447))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,448162);function j(){const h=r=>{const l=r.reduce((_,i)=>_+i,0);return r.map(_=>_/l)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const K=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function E(h,t){const x=v();return E=function(e,s){return e=e-444,x[e]},E(h,t)}function v(){const h=["315038AEFOVe","5923250wUheCE","14PAzIro","2522574KFeXJQ","5434119zXZBAW","172795JsvyEU","200595XXcebQ","184wrJvey","1237105PHgLZG","12YepECG"];return v=function(){return h},v()}const o=y;function y(h,t){const x=C();return y=function(e,s){return e=e-256,x[e]},y(h,t)}(function(h,t){const x=y,e=h();for(;;)try{if(-parseInt(x(384))/1*(parseInt(x(293))/2)+parseInt(x(331))/3+-parseInt(x(340))/4+-parseInt(x(345))/5*(parseInt(x(355))/6)+-parseInt(x(378))/7*(-parseInt(x(278))/8)+-parseInt(x(260))/9*(parseInt(x(285))/10)+parseInt(x(332))/11===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(C,971696);function C(){const h=["min","Composite","init","createElement","appendChild","addChild","tweenGroup","scale","level","log","parseInt","removeChild","980624rBLTOs","pinsMatter","devicePixelRatio","canvas","findResultArea","recordCount","length","8952770ZdeYeC","roundShape","显示游戏结果事件","random","ballRadius","height","mouseover","getText","6XyXPHC","children","angle","circle","text","ballConfig","resBoxAnimal","style","boxHeight","velocityIterations","click","collisionStart","pairs","recordCallback","res-text-","push","roundRect","stackBox","destroy","runner","addRecord","fill","getBg","set","pinsGfx","gap","resBoxMap","create","maxCount","recordArr","app","position","add","setPopCb","pop","popCallback","getProbability","stage","1176705SFNefI","26634938hfupOz","center","rotation","start","res-","radius","nextGroup","createResultBox","2585440PPLSgD","getShadow","listenCollisions","lastTime","rows","20IeXskH","addXPower","label","ticker","firstY","Bodies","pinAnimal","row-","dealCollisions","floor","269112KscOjX","update","low","positionIterations","Runner","unshift","gameRes","setGameRes","width","toFixed","startY","ballParamsMap","pinParams","engine","frictionAir","Body","boxWidth","createRoundedRect","run","mouseout","now","world","Ball hit result box ","77peMfoE","timeScale","ball","split","setBallConfig","isNaN","191311KJwOKh","remove","startsWith","get","Engine","18KcCghs","nonCollideGroup","entries","circleRadius","clearPinsAndRes","clear"];return C=function(){return h},C()}const{colors:q,shadows:D,resText:L,probabilities:$}=j();class x0{id=1;[o(281)];[o(323)];[o(368)];[o(376)];[o(312)];[o(363)];height;tickerFn;[o(366)]=new Map;[o(367)]={};nonCollideGroup=M.Body[o(338)](!0);[o(298)]={ballRadius:4,frictionAir:.05};popCallback;[o(306)];[o(361)];constructor(t){const x=o;this.canvas=document[x(269)](x(281)),t[x(270)](this[x(281)]),this[x(323)]=new Z,this[x(368)]=w[x(259)][x(320)](),this[x(376)]=this[x(368)].world,this[x(312)]=w[x(359)].create(),this[x(368)][x(358)]=10,this.engine[x(302)]=10,this[x(368)].timing[x(379)]=2}async init(t,x,e){const s=o;this[s(363)]=t,this[s(290)]=x,this[s(281)][s(300)][s(363)]=t+"px",this[s(281)][s(300)][s(290)]=x+"px",this[s(310)].position[s(316)](this.width-45,this.height/4),this[s(323)][s(330)][s(271)](this[s(310)]),await this[s(323)][s(268)]({canvas:this.canvas,width:t,height:x,background:e,antialias:!0,resolution:window[s(280)]}),w[s(359)][s(373)](this.runner,this[s(368)]),this[s(342)]()}[o(382)](t,x){const e=o;this[e(298)]={ballRadius:t,frictionAir:x}}createBall(t){const x=o,e=this.width/2,s=[e,e+this.pinParams[x(318)]],r=[e,e-this[x(367)][x(318)]],l=t[0],f=Math[x(354)](Math[x(288)]()*2),_=l==="R"?s[f]:r[f],i=w[x(350)][x(296)](_,0,this.ballConfig[x(289)],{id:this.id++,label:x(380),mass:1,restitution:0,friction:0,frictionAir:this.ballConfig[x(369)],collisionFilter:{group:this[x(261)]}}),a=new g().circle(0,0,this[x(298)].ballRadius).fill(16733525);a[x(324)][x(316)](i[x(324)].x,i[x(324)].y),w[x(267)][x(325)](this[x(376)],i),this[x(323)][x(330)][x(271)](a);const n=()=>{const d=x;a[d(324)][d(316)](i.position.x,i.position.y),a[d(334)]=i[d(295)];const p=(this[d(367)][d(344)]-2)*this[d(367)][d(318)]+this[d(367)][d(318)]/2;i[d(324)].y>p&&(this[d(282)](i.position.x),M.Composite.remove(this[d(376)],i),a[d(311)](),this.app.ticker.remove(n),this.ballParamsMap.delete(i.id))};this[x(323)][x(348)][x(325)](n);const c={path:t,start:f,fir:l};this.ballParamsMap[x(316)](i.id,c)}[o(279)]=[];[o(317)]=[];createPinsAndResultBoxes(t){const x=o;this[x(264)](),this[x(367)]=t;const{rows:e,startY:s,gap:r,pinRadius:l}=t;for(let f=2;f<e;f++){const _=f+1,i=(_-1)*r,a=this[x(363)]/2-i/2;for(let n=0;n<_;n++){const c=a+n*r,d=s+(f-2)*r,p=w[x(350)].circle(c,d,l,{isStatic:!0,label:x(352)+(f-1)+"-"+n}),u=new g()[x(296)](0,0,l)[x(314)](16777215);u.x=c,u.y=d,this[x(279)][x(308)](p),this.pinsGfx[x(308)](u),w[x(267)][x(325)](this[x(376)],p),this[x(323)].stage[x(271)](u)}}this.createResultBox()}dealCollisions(t){const x=o,{bodyA:e,bodyB:s}=t,r=e[x(347)]===x(380)?e:s[x(347)]===x(380)?s:null,l=e[x(347)][x(257)]("row-")?e.label:s[x(347)][x(257)](x(352))?s.label:null,f=e[x(347)].startsWith(x(352))?e:s[x(347)][x(257)]("row-")?s:null;if(f&&this[x(351)](f),!r||!l)return;const _=r.id,i=Number[x(276)](l[x(381)]("-")[1],10),a=this[x(366)][x(258)](_);if(!a)return;const{path:n,start:c,fir:d}=a;if(!n||!d||Number[x(383)](i))return;if(i===1){const u=d==="R"?c===0?1:-1:c===0?-1.2:1.2;this.addXPower(r,u);return}const p=n[i-1];p==="R"?this[x(346)](r,1.2):p==="L"&&this[x(346)](r,-1.2)}[o(319)]=new Map;[o(274)]=o(357);async[o(339)](){const t=o,x=this.pinParams[t(318)],e=x-2,s=this[t(367)][t(344)]-1,r=s-2,l=this[t(367)][t(365)]+r*x+x/2,f=this.width/2-s*x/2,_=this[t(367)][t(344)]-2;for(let i=0;i<s;i++){const a=f+i*x+1,n=new P({label:t(336)+i,interactive:!0}),c=new g()[t(309)](0,0,e,14,2)[t(314)]({color:this[t(315)](_,i)}),d=new g()[t(309)](0,0,e,16,2)[t(314)]({color:this[t(341)](_,i)});d[t(324)].set(0,0);const p=this[t(292)](this.level,_,i)||0,u=new T({label:t(307)+i,text:p+`
x`,style:{fontSize:14,fill:"#000",align:t(333)},anchor:.5});u[t(324)][t(316)](e/2,8),u[t(273)][t(316)](.4),n[t(271)](d),n[t(271)](c),n.addChild(u),n.position.set(a,l),this[t(319)][t(316)](i,n),this[t(323)].stage[t(271)](n),n.on(t(291),()=>{const I=t;this[I(328)](!0,this[I(329)](this[I(367)].rows-2,i)[I(364)](4))}),n.on(t(374),()=>{this[t(328)](!1)})}}clearPinsAndRes(){const t=o;for(const x of this[t(279)])w[t(267)][t(256)](this[t(376)],x);for(const x of this[t(317)])x.destroy();this.pinsMatter=[],this[t(317)]=[],this[t(319)].forEach(x=>{x[t(311)]()}),this[t(319)][t(265)](),this[t(349)]=0}[o(346)](t,x){w[o(370)].setVelocity(t,{x,y:0})}[o(315)](t,x){return q["_"+t][x]}getShadow(t,x){return D["_"+t][x]}[o(292)](t,x,e){return L[t]["_"+x][e]}getProbability(t,x){return $["_"+t][x]*100}[o(326)](t){this.popCallback=t}setRecordClickCb(t){const x=o;this[x(306)]=t}setLevel(t){const x=o;if(this[x(274)]=t,!!L[t])for(const[s,r]of this[x(319)]){const l=r.getChildByLabel(x(307)+s),f=L[t]["_"+(this[x(367)].rows-2)][s];l[x(297)]=f+`
x`}}[o(282)](t){const x=o;for(const[e,s]of this.resBoxMap[x(262)]()){const r=s.x,l=s.x+s.width;t>=r&&t<=l&&(this.resBoxAnimal(s),console[x(275)](x(377)+e))}}[o(342)](){const t=o;M.Events.on(this[t(368)],t(304),x=>{const e=t;for(const s of x[e(305)])this[e(353)](s)})}[o(351)](t){const x=o,e=new g;e[x(324)][x(316)](t[x(324)].x,t.position.y),this[x(323)].stage[x(271)](e);const s=0,r=10,l=400,f=performance[x(375)](),_=i=>{const a=x,n=i-f,c=Math[a(266)](n/l,1),d=s+(r-s)*c,p=.9*(1-c);e[a(265)]();const u=t[a(263)]??4;e.circle(0,0,u*1.2+d)[a(314)]({color:16777215,alpha:p}),c<1?requestAnimationFrame(_):e.destroy()};requestAnimationFrame(_)}[o(349)]=0;[o(299)](t){const x=o,e=t.position.y;this[x(349)]||(this[x(349)]=e);const s=4,r=150,l=performance[x(375)](),f=_=>{const i=x,a=_-l,n=Math[i(266)](a/r,1);t.position.y=e+s*n,n<1?requestAnimationFrame(f):t.position.y=this[i(349)]};requestAnimationFrame(f)}[o(272)]=new z;[o(322)]=[];[o(321)]=4;[o(371)]=26;[o(301)]=26;[o(310)]=new P;recordCount=0;[o(362)](t){const x=o;this[x(361)]=t}[o(372)](t,x,e){const s=o,r=e?.6:1,l=[{x:0,y:this[s(301)],radius:0},{x:this.boxWidth,y:this[s(301)],radius:0},{x:this[s(371)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(l[2][s(337)]=4,l[3][s(337)]=4):t===this[s(321)]-1&&(l[0][s(337)]=4,l[1][s(337)]=4),new g({label:String(x)})[s(286)](l,10)[s(314)]({color:x,alpha:r}).stroke({width:1,color:0})}[o(313)](t,x){const e=o,s=new P({interactive:!0});s[e(324)].set(0,-this.boxHeight);const r=this.createRoundedRect(this[e(283)],x),l=new T({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});l.position.x=this[e(371)]/2,l.position.y=this.boxHeight/2,s[e(271)](r),s[e(271)](l),this[e(310)][e(271)](s),this[e(322)][e(360)](s);let f;s.on(e(291),()=>{const i=e;f=this[i(372)](this.recordCount,0,!0),s[i(271)](f)}),s.on(e(374),()=>{const i=e;f&&(s[i(277)](f),f?.[i(311)](),f=null)}),s.on(e(303),()=>{const i=e;console[i(275)](i(287)),this[i(306)]&&this.recordCallback()}),this[e(283)]++,this[e(283)]===4&&(this[e(283)]=1),this[e(322)].forEach((i,a)=>{const n=e,c=a*this[n(301)];if(this[n(322)][n(284)]>1){const d=this[n(322)][a],p=d[n(277)](d[n(294)][0]),u=p.label;p[n(311)](),this[n(322)][a][n(271)](this[n(372)](a,Number(u))),this[n(322)][a].children.reverse()}new N(i[n(324)],this[n(272)]).to({y:c},200)[n(335)]()});const _=i=>{const a=e;this[a(272)][a(356)](i[a(343)])};if(this[e(322)][e(284)]>this[e(321)]){const i=this[e(322)][e(327)]();new N(i.position,this[e(272)]).to({alpha:0},150).onComplete(()=>{const a=e;this[a(323)][a(348)][a(256)](_),this[a(310)][a(277)](i),i?.[a(311)]()}).start()}this[e(323)].ticker[e(325)](_)}}const b=R;(function(h,t){const x=R,e=h();for(;;)try{if(parseInt(x(239))/1+-parseInt(x(270))/2*(parseInt(x(229))/3)+-parseInt(x(253))/4*(-parseInt(x(249))/5)+-parseInt(x(266))/6+-parseInt(x(240))/7+parseInt(x(261))/8*(parseInt(x(246))/9)+parseInt(x(248))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,129214);function R(h,t){const x=k();return R=function(e,s){return e=e-220,x[e]},R(h,t)}const t0={class:b(233)},e0={class:b(233)},s0={class:b(267)},a0=[b(262)],i0={class:b(227)},n0={key:0,id:"path-help",class:b(238)},o0={class:"counter"},c0={class:b(259)},r0=[b(250)];function k(){const h=["14463RLJMEi","init","2628510LsgRkx","25fEmVrx","disabled","ballConfig","characters","51368DvSZWV","pins","/10","投球路径（10 位，仅 L/R）","text","input","w-full flex justify-center items-center","radius","136HAjRlj","aria-invalid","请输入 10 位路径，仅允许 L 或 R","path-help","仅允许填写字符 L 或 R","115200LZmJgU","input-wrap","container","2 秒允许点击一次","38kbQYyi","div","button","test","label","slice","span","start-btn","hint-row","air","28038VyUEOP","get","value","length","relative","当前 "," 开始游戏 "," 位，请填写 10 位","split","help","123591IZVUPi","1063881OmBHfd","replace","false","#1e1e1e","AppPlinko","toUpperCase"];return k=function(){return h},k()}const l0=10,f0=O({__name:b(244),setup(h){const t=b,x=B(null);let e;const s=B(""),r=G(()=>/^[LR]{10}$/[t(222)](s[t(231)])),l=B(!1),f=G(()=>{const a=t;return s[a(231)]?/[^LR]/.test(s.value)?a(265):s.value.length!==10?a(234)+s[a(231)][a(232)]+a(236):"":a(263)});function _(a){const n=t,c=a.target,d=c.value[n(245)]()[n(241)](/[^LR]/g,"")[n(224)](0,10);s[n(231)]=d}async function i(){const a=t;if(!r.value||l.value||!e)return;l.value=!0;const n=s.value[a(237)]("");e.createBall(n),setTimeout(()=>l[a(231)]=!1,400)}return H(async()=>{const a=t,n=K[a(230)](10);x.value&&(e=new x0(x.value),await e[a(247)](300,276,a(243)),await e.createPinsAndResultBoxes(n?.[a(254)]??{rows:12,startY:24,gap:24,pinRadius:4}),e.setBallConfig(n?.ballConfig[a(260)],n?.[a(251)][a(228)]))}),(a,n)=>{const c=t;return X(),V(c(220),t0,[m(c(220),e0,[m(c(220),{ref_key:c(268),ref:x,class:"container"},null,512)]),m(c(220),s0,[n[1]||(n[1]=m(c(223),{class:c(223),for:"path"},c(256),-1)),Y(m(c(258),{id:"path",class:U(["input-control",{invalid:!r.value&&s[c(231)]}]),type:c(257),"onUpdate:modelValue":n[0]||(n[0]=d=>s.value=d),maxlength:l0,placeholder:"例如：LRRLLRLR",onInput:_,autocomplete:"off",autocapitalize:c(252),spellcheck:c(242),"aria-describedby":c(264),"aria-invalid":!r[c(231)]},null,42,a0),[[Q,s[c(231)]]]),m(c(220),i0,[f.value?(X(),V(c(225),n0,F(f.value),1)):W("",!0),m("span",o0,F(s[c(231)][c(232)])+c(255),1)])]),m(c(220),c0,[m(c(221),{class:c(226),disabled:!r[c(231)]||l[c(231)],onClick:i,title:c(269)},c(235),8,r0)])])}}});function A(){var h=["259779oejVMb","4870671ODCkex","4422vfmuxl","2061268cNQslq","1088020sSeiHV","1416sUTIAX","18XjuiSs","1WZmnPQ","5690AWdVxY","4MyKvlB","1233736QJEEQO","63NAQAnA","1385026lLbZui"];return A=function(){return h},A()}(function(h,t){for(var x=S,e=h();;)try{var s=parseInt(x(366))/1*(-parseInt(x(371))/2)+parseInt(x(360))/3*(parseInt(x(368))/4)+parseInt(x(367))/5*(parseInt(x(361))/6)+-parseInt(x(370))/7*(-parseInt(x(369))/8)+-parseInt(x(365))/9*(-parseInt(x(363))/10)+-parseInt(x(362))/11+-parseInt(x(364))/12*(parseInt(x(359))/13);if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,829925);function S(h,t){var x=A();return S=function(e,s){e=e-359;var r=x[e];return r},S(h,t)}const u0=J(f0,[["__scopeId","data-v-cb23dd70"]]);export{u0 as A,J as _};
